# 编译选项

- `/nologo`: 禁用编译器启动logo。
- `/Wn`: 设置警告级别（n 可以是 0 到 4）。
- `/WX`: 将所有警告视为错误。
- `/O1`, `/O2`, `/Od`: 优化选项，分别为最小化大小、最大化速度和禁用优化。
- `/Zi`, `/Z7`, `/Zd`: 生成调试信息。分别为生成PDB、调试信息写入obj文件、生成最少的调试信息；
- `/EHsc`: 启用 C++ 异常处理。
- `/MD`, `/MT`, `/MDd`, `/MTd`: 选择[[运行库配置]]；
- `/I<path>`: 添加包含目录。
- `/D<name>`: 定义预处理器宏。
- `/GS[size]`：指定在函数中插入栈检查代码的阈值，有助于防止栈溢出，特别是在嵌套调用或递归调用较多的情况下，如果不指定 `[size]`，则使用默认值；
- `/Gd`：指定 `__cdecl` 调用约定，`__cdecl` 是 C 语言的默认调用约定，参数从右到左压入堆栈，允许可变参数函数（如 `printf`），不会对函数名进行修饰（无前缀或后缀）；
- `/Oy`：指示编译器省略帧指针，从而可能提高性能和减少生成的代码大小；
- `/Gm /Gm-`：启用/禁用增量生成；
- `/fp:precise`：指示编译器在进行浮点运算时遵循 IEEE 标准，确保运算的精度和一致性；
- `/Zc:wchar_t`：指示编译器将 `wchar_t` 视为内建类型，而不是 `unsigned short` 的 `typedef`，确保与标准 C++ 的一致性；
- `/Zc:forScope`：指示编译器遵循标准 C++ 的 for 循环变量作用域规则，即 for 循环中的变量在循环外不可见，确保符合 C++ 标准，并提高代码的可读性和安全性；
- `/FS`：允许多个编译器实例同时访问同一个程序数据库（PDB）文件，用于解决多个处理器并行编译时的文件访问冲突问题；
- `/FC`：指示在编译错误和警告消息中显示完整的源文件路径，而不仅仅是文件名；
- `/GF`：启用字符串池化，编译器会将相同的字符串文字合并到一个共享的内存位置，这意味着在程序中多次出现的相同字符串只会存储一次；
- `/RTC[n]`：启用运行时检查，有助于在调试模式下捕获一些常见的编程错误，如未初始化的变量使用、堆栈溢出等；该选项与某些优化选项（如 `/O2`）不兼容，因为优化可能会改变代码的执行顺序，从而影响运行时检查的准确性；
	- `/RTCc`：启用常量检查，检测常量表达式中的错误；
	- `/RTCs`：启用堆栈检查，检测堆栈溢出和局部变量的未初始化使用；
	- `/RTC1`：相当于`RTCc`+`RTCs`；
	- `/RTCu`：启用未初始化变量检查，检测使用未初始化的局部变量；
- `/bigobj`：增加编译器可以处理的节（section）数量；默认情况下，MSVC 编译器生成的对象文件（.obj 文件）有一个节数量限制，对于非常大的源文件，特别是那些包含大量模板或生成大量代码的文件，可能会超出这个限制，编译器可能会报错，提示无法生成对象文件；
- `/diagnostic:column`：增强编译器的诊断信息输出，在编译器的错误和警告信息中包含列号信息；
- `/errorReport`：控制编译器在遇到内部错误时如何处理错误报告；
	- `none`: 不生成错误报告；
	- `prompt`: 在编译器遇到内部错误时，提示用户是否要发送错误报告（默认）；
	- `queue`: 将错误报告排队，稍后可以通过 Windows 错误报告系统发送；
	- `send`: 自动发送错误报告到 Microsoft，而不提示用户；
# 链接选项

- `/OUT:<filename>`：指定输出文件名；
- `/LIBPATH:<path>`：添加库搜索路径；
- `/NODEFAULTLIB:<name>`：禁用默认库；
- `/DEBUG`: 生成调试信息；
- `/PDB:<path>`：指定生成程序数据库（PDB）文件的名称和路径；PDB 文件包含调试信息，如符号信息、源文件行号等，供调试器使用；
- `/PGD:<path>`：指定生成的 `Profile-Guided Optimization` (PGO) 数据库文件的名称和路径；PGO 是一种基于运行时分析的优化技术，通过分析程序的运行时行为来优化其性能；
- `/LTCG`: 启用链接时代码生成，旨在进行全程序优化，允许编译器在链接阶段进行跨模块优化，以提高最终可执行文件的性能；通常用于Publish版本；
- `/SUBSYSTEM:<type>`: 指定子系统类型（如 `CONSOLE` 或 `WINDOWS`），子系统定义了应用程序的运行环境和入口点，不同的子系统会影响程序的启动方式和行为；
- `/MACHINE:<type>`: 指定目标平台（如 `X86` 或 `X64`）。
- `/OPT:REF`, `/OPT:NOREF`：移除/禁止移除未使用的函数和数据；
- `/OPT:ICF`, `/OPT:NOICF`：允许/禁止合并相同的函数和数据；
- `/INCREMENTAL`：启用增量链接，生成增量链接文件（`.ilk`），用于存储链接状态信息，通过只重新链接自上次完整链接以来发生更改的部分来减少链接时间；通常用于Debug版本，与选项`LTCG`冲突；
- `/LARGEADDRESSAWARE`：指定应用程序可以使用大于 2GB 的虚拟地址空间；
- `/NXCOMDAT`, `/NXCOMDAT:NO`：开启/关闭数据执行保护（DEP），DEP可以防止代码在数据段中执行，从而提高应用程序的安全性；
- `/DYNAMICBASE`：启用地址空间布局随机化（ASLR），ASLR 是一种安全技术，通过随机化可执行文件的内存地址来提高应用程序的安全性，防止攻击者预测内存布局；
- `/MANIFEST`：生成一个清单文件（通常是 .manifest 文件），并将其嵌入到可执行文件或 DLL 中，包含应用程序的依赖库、Windows 版本兼容性、主题支持、UAC（用户帐户控制）设置等信息；
- `/MANIFESTFILE:<path>`：指定生成的manifest文件的路径和名称；
- `/MANIFESTUAC:<config>`：指定应用程序的用户帐户控制（UAC）设置，定义应用程序的执行级别和UI保护等，比如`/MANIFESTUAC:"level='requireAdministrator' uiAccess='false'"`；
	- `asInvoker`：应用程序以调用者的权限级别运行；
	- `highestAvailable`：应用程序以最高可用权限级别运行；
	- `requireAdministrator`：应用程序需要管理员权限；
- `ALLOWISOLATION`：控制应用程序的清单文件是否允许独立于系统的程序集（assemblies）进行隔离，允许应用程序使用特定版本的共享程序集，而不受系统中其他应用程序的影响；通过隔离，应用程序可以避免“DLL 地狱”问题，即不同应用程序对同一 DLL 的不同版本的依赖导致的冲突；
- `/TLBID<id>`：指定在生成类型库（Type Library）时使用的库 ID；类型库是一个二进制文件，包含 COM 接口、结构、枚举和其他类型的信息，供 COM 客户端和服务器使用；
- `/IMPLIB:<filename>`：指定生成的导入库（import library）的名称和路径。当你创建一个 DLL 时，导入库是一个 `.lib` 文件，它包含了 DLL 中导出的函数和数据的符号信息，供其他程序在编译时使用；
- `/MAP`：生成一个映射文件（map file）；映射文件提供了关于可执行文件或 DLL 的内存布局的详细信息，包括符号地址、段信息和其他调试信息；


# 项目配置

创建一个下项目，并启动`GAS`插件；

在`项目名.build.cs`中添加配置（如果是全新项目则没有该配置文件，需要添加一个cpp类才会生成，建议添加一个`AssetManager`类）：

![400](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514104546.png)

![300](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514104316.png)

![900](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514104353.png)

**注意**：在添加了配置后，一定要刷新VS项目，否则配置不会被应用（即使重启VS）；

![300](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514113909.png)


在5.3之前的版本（5.3会自动添加），需要手动添加`InitGlobalData()`调用；

![550](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514114132.png)

![550](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514114205.png)

此外，还需要在`DefaultEngine.ini`中配置以启用新添加的`AssetManager`；

![700](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514115542.png)


**注意**：需要在关闭unreal编辑器后，再进行编译，否则会报错；

![500](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514114727.png)

编译完成后，运行可打开unreal编辑器；

![400](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240514115040.png)


# 创建AttributeSet

[[GamePlay Attribute]]

![600](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519211219.png)

添加`Health, MaxHealth, Mana, MaxMana`属性，并添加对应的`OnRep_XXX`函数控制其复制行为，添加`GetLifetimeReplicatedProps`处理网络同步相关操作；

![800](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519213538.png)

![800](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519213802.png)

添加一个元属性`Damage`用来计算伤害，该属性无需复制；

![400](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519214514.png)


# 创建ASC

![350](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519221432.png)

![1200](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519233634.png)

![1200](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519233658.png)

# 创建角色

![350](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240519233829.png)


# 创建GameplayAbility

![600](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240701020131.png)

# 创建AIController

![600](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240707193058.png)



# 创建PlayerState

![600](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240707193835.png)




设置`PlayerState`并检查是否正常；

![350](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240707230549.png)

![600](https://pic-1315225359.cos.ap-shanghai.myqcloud.com/20240707230617.png)

